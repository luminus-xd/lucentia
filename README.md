# Lucentia

Lucentia は、Tauri と Next.js を利用して構築されたデスクトップアプリケーションです。
このアプリケーションは yt-dlp を利用して、YouTube などの動画をダウンロードします。
出力形式は MP4 で、ダウンロード進捗はリアルタイムに表示されます。

## 主な機能

- **動画ダウンロード**
  YouTube や bilibili の URL を指定して動画をダウンロード可能です。

- **自動出力ファイル名**
  出力ファイル名を省略した場合、動画のタイトルを取得してファイル名として使用します。

- **yt-dlp の自動ダウンロード**
  アプリケーション起動時に yt-dlp が自動的にダウンロードされるため、事前のインストールが不要です。

- **bilibili 対応**
  bilibili の URL が入力された場合、自動的に "--cookies-from-browser firefox" オプションを付与してダウンロードを行います。

- **進捗表示**
  ダウンロード進捗をリアルタイムに表示します。

- **ダウンロード中の UI 制御**
  ダウンロード中は入力フォームおよびダウンロードボタンが無効化され、誤操作を防止します。

## 技術スタック

- **Tauri (Rust)**  
  バックエンド処理、システムのコマンド実行、イベント送信などに利用。

- **Next.js (React / TypeScript)**  
  フロントエンドのユーザーインターフェースを構築。

- **yt-dlp**  
  動画のダウンロードとフォーマット変換に使用。

## 🚀 セットアップ

### 前提条件

- [Node.js](https://nodejs.org/)
- [Rust](https://www.rust-lang.org/tools/install)

### インストール

```bash
npm install
```

## 🛠️ 開発

```bash
npm run dev:tauri
```

## 📦 ビルド

```bash
npm run build && npm run build:tauri
```

> **Note**
> これにより、各プラットフォーム向けのパッケージが生成されます。

## 📝 使用方法

1. アプリ起動後、動画の URL を入力します。  
   例: `https://www.youtube.com/watch?v=...`

2. 出力ファイル名を入力するか、空欄にすると動画タイトルが自動的に使用されます。  
   ダウンロード先はシステムのダウンロードフォルダに自動設定されます。

3. 「ダウンロード開始」ボタンをクリックすると、ダウンロードが開始され、進捗がリアルタイムに表示されます。

## 👥 コントリビューション

ご意見、バグ報告、機能改善の提案などは大歓迎です。
プルリクエストや Issue を通じてご連絡ください。

## 📄 ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## 🔄 CI/CD

> **Tip**
> このプロジェクトではGitHub Actionsを使用して自動化プロセスを実行しています。

- **テストビルド**: PRがmainブランチに対して作成されると実行
- **リリースビルド**: mainブランチへのプッシュまたはタグ（`v*`形式）プッシュ時に実行
- **手動トリガー**: workflow_dispatchイベントで手動実行も可能

詳細は`.github/workflows`ディレクトリを参照してください。